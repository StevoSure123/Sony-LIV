<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DASH Stream Player</title>
    <script src="https://content.jwplatform.com/libraries/SAHhwvZq.js"></script>
</head>
<body>
    <div id="player" style="width: 100%; height: 100%;"></div>

    <script>
        // DASH manifest URL
        var manifestUrl = "https://bpweb3.akamaized.net/bpk-tv/irdeto_com_Channel_166/output/manifest.mpd";

        // ClearKey DRM keys
        var keyId = "dkmQ7qvVUie+9a/fm5pmJw"; // Base64-encoded Key ID
        var key = "x0/9GdDFkcdqDdj285MO5A";   // Base64-encoded Key

        // Headers for the request
        var customHeaders = {
            cookie: "hdntl=exp=1717991535~acl=%2f*~data=hdntl~hmac=cf7287ac9b742d265d620a90201707647722cf05948c4dad7db09ac41f5e7736",
            "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36"
        };

        // Initialize JW Player
        jwplayer("player").setup({
            playlist: [{
                sources: [{
                    file: manifestUrl,
                    drm: {
                        clearkey: {
                            keyId: keyId,
                            key: key
                        }
                    }
                }]
            }],
            width: "100%",
            height: "100%",
            autostart: true,
            stretching: "exactfit",
            aspectratio: "16:9"
        });

        // Apply custom headers
        jwplayer("player").on('beforePlay', function() {
            jwplayer("player").setConfig({
                xhrSetup: function(xhr) {
                    // Add headers to the XHR request
                    for (var header in customHeaders) {
                        xhr.setRequestHeader(header, customHeaders[header]);
                    }
                }
            });
        });
    </script>
</body>
</html>
